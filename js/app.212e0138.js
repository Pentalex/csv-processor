(function(){"use strict";var e={65:function(e,t,n){var o=n(3751),l=n(641);function a(e,t,n,o,a,r){const c=(0,l.g2)("DropArea"),s=(0,l.g2)("TransactionDropdown");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(c,{onFilesProcessed:o.handleFilesProcessed},null,8,["onFilesProcessed"]),o.transactions.length?((0,l.uX)(),(0,l.Wv)(s,{key:0,transactions:o.transactions},null,8,["transactions"])):(0,l.Q3)("",!0)])}var r=n(953);const c=e=>((0,l.Qi)("data-v-88d8d2f2"),e=e(),(0,l.jt)(),e),s=c((()=>(0,l.Lk)("img",{src:"https://pbs.twimg.com/media/EmGmYLBUYAUb7wQ.jpg",style:{"max-width":"100px"}},null,-1))),u={key:0},i={key:1};function d(e,t,n,a,r,c){return(0,l.uX)(),(0,l.CE)("div",{id:"drop-area",onDrop:t[1]||(t[1]=(0,o.D$)(((...e)=>a.dropHandler&&a.dropHandler(...e)),["prevent"])),onDragover:t[2]||(t[2]=(0,o.D$)(((...e)=>a.dragOverHandler&&a.dragOverHandler(...e)),["prevent"])),onDragleave:t[3]||(t[3]=(...e)=>a.dragLeaveHandler&&a.dragLeaveHandler(...e)),onClick:t[4]||(t[4]=(...e)=>a.clickHandler&&a.clickHandler(...e))},[s,a.dragging?((0,l.uX)(),(0,l.CE)("p",i,"Drop here!")):((0,l.uX)(),(0,l.CE)("p",u,"Drag & Drop CSV files here")),(0,l.Lk)("input",{type:"file",id:"fileElem",accept:".csv",multiple:"",style:{display:"none"},onChange:t[0]||(t[0]=(...e)=>a.handleFiles&&a.handleFiles(...e))},null,32)],32)}n(4114);var p={emits:["filesProcessed"],setup(e,{emit:t}){const n=(0,r.KR)([]),o=(0,r.KR)(!1),l=e=>{const t=e.target.files;i(t)},a=e=>{e.preventDefault();const t=e.dataTransfer.files;i(t),o.value=!1},c=e=>{console.log("dragging"),e.preventDefault(),o.value=!0,console.log(o)},s=e=>{e.preventDefault(),o.value=!1,console.log(o)},u=()=>{document.getElementById("fileElem").click()},i=e=>{n.value=[];for(let o=0;o<e.length;o++){const l=e[o],a=new FileReader;a.onload=l=>{const a=l.target.result,r=d(a);n.value.push(...r),o===e.length-1&&t("filesProcessed",n.value)},a.readAsText(l)}},d=e=>{const t=e.split("\n"),n=t[0].split(","),o=[];for(let l=1;l<t.length;l++){const e=t[l].split(","),a={};for(let t=0;t<n.length;t++)if("Date of Game"===n[t]){const n=new Date(e[t]);a["Year"]=n.getFullYear()}else a[n[t]]=e[t];o.push(a)}return console.log(o),o};return{handleFiles:l,dropHandler:a,dragOverHandler:c,dragLeaveHandler:s,dragging:o,clickHandler:u}}},v=n(6262);const f=(0,v.A)(p,[["render",d],["__scopeId","data-v-88d8d2f2"]]);var g=f,m=n(33);const h=e=>((0,l.Qi)("data-v-1b8bc95c"),e=e(),(0,l.jt)(),e),y={key:0,id:"dropdown-container"},k=h((()=>(0,l.Lk)("label",{for:"years-dropdown"},"Select Year: ",-1))),b=["value"],w=h((()=>(0,l.Lk)("br",null,null,-1))),D=h((()=>(0,l.Lk)("br",null,null,-1))),E=h((()=>(0,l.Lk)("label",{for:"months-dropdown"},"Select Month: ",-1))),T=["value"],C=h((()=>(0,l.Lk)("br",null,null,-1))),L=h((()=>(0,l.Lk)("br",null,null,-1))),A=h((()=>(0,l.Lk)("label",{for:"percentage-input"},"Enter Percentage: ",-1))),F={style:{display:"inline-block"}},O=h((()=>(0,l.Lk)("hr",null,null,-1))),P={key:0,id:"total-amount"},x={key:1,id:"selected-percent"},K={key:2,id:"custom-amount"};function R(e,t,n,a,r,c){return a.years.length&&a.months.length?((0,l.uX)(),(0,l.CE)("div",y,[k,(0,l.bo)((0,l.Lk)("select",{id:"years-dropdown","onUpdate:modelValue":t[0]||(t[0]=e=>a.selectedYear=e),onChange:t[1]||(t[1]=(...e)=>a.calculateTotal&&a.calculateTotal(...e))},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.years,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e,value:e},(0,m.v_)(e),9,b)))),128))],544),[[o.u1,a.selectedYear]]),w,D,E,(0,l.bo)((0,l.Lk)("select",{id:"months-dropdown","onUpdate:modelValue":t[2]||(t[2]=e=>a.selectedMonth=e),onChange:t[3]||(t[3]=(...e)=>a.calculateTotal&&a.calculateTotal(...e))},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.months,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e,value:e},(0,m.v_)(e),9,T)))),128))],544),[[o.u1,a.selectedMonth]]),C,L,A,(0,l.Lk)("div",F,[(0,l.bo)((0,l.Lk)("input",{type:"number",id:"percentage-input","onUpdate:modelValue":t[4]||(t[4]=e=>a.selectedPercentage=e),onInput:t[5]||(t[5]=(...e)=>a.calculateTotal&&a.calculateTotal(...e)),min:"1",max:"100",step:"1",style:{width:"40px","text-align":"center"}},null,544),[[o.Jo,a.selectedPercentage,void 0,{number:!0}]]),(0,l.eW)("% ")]),O,void 0!==a.totalAmount?((0,l.uX)(),(0,l.CE)("p",P," Total: $"+(0,m.v_)(a.totalAmount.toFixed(2)),1)):(0,l.Q3)("",!0),void 0!==a.selectedPercentAmount?((0,l.uX)(),(0,l.CE)("p",x,(0,m.v_)(a.selectedPercentage)+"% of Total: $"+(0,m.v_)(a.selectedPercentAmount.toFixed(2)),1)):(0,l.Q3)("",!0),void 0!==a.customAmount?((0,l.uX)(),(0,l.CE)("p",K," Total Tips: $"+(0,m.v_)(a.customAmount.toFixed(2)),1)):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)}n(3375),n(9225),n(3972),n(9209),n(5714),n(7561),n(6197);var X={name:"TransactionDropdown",props:{transactions:Array},setup(e){const t=(0,r.KR)([]),n=(0,r.KR)([]),o=(0,r.KR)(""),a=(0,r.KR)(""),c=(0,r.KR)(0),s=(0,r.KR)(0),u=(0,r.KR)(8),i=(0,r.KR)(0),d=()=>{const t="Type",n="Value (USD)";c.value=0,s.value=0,e.transactions.forEach((e=>{const l=e["Transaction Date"].replace(/["\\]/g,""),r=new Date(l),u=r.toLocaleString("en-US",{month:"long"}),i=e["Year"],d=e[t];if(u===a.value&&i===o.value){let t=e[n].replace(/[$,"]/g,"");t=parseFloat(t),'"BOOKING"'===d||'"CREDIT_REFUND"'===d?c.value+=t:'"CUSTOM"'===d&&(s.value+=t)}})),i.value=c.value*(u.value/100)};return(0,l.wB)((()=>e.transactions),(e=>{const l=new Set,r=new Set;e.forEach((e=>{const t=new Date(e["Transaction Date"]),n=e["Year"],o=t.toLocaleString("en-US",{month:"long"});l.add(o),r.add(n)})),t.value=Array.from(r).sort(),n.value=Array.from(l).sort(),t.value.length>0&&(o.value=t.value[0]),n.value.length>0&&(a.value=n.value[0]),d()}),{immediate:!0}),{years:t,months:n,selectedYear:o,selectedMonth:a,totalAmount:c,customAmount:s,selectedPercentage:u,selectedPercentAmount:i,calculateTotal:d}}};const _=(0,v.A)(X,[["render",R],["__scopeId","data-v-1b8bc95c"]]);var H=_,S={components:{DropArea:g,TransactionDropdown:H},setup(){const e=(0,r.KR)([]),t=t=>{e.value=t};return{transactions:e,handleFilesProcessed:t}}};const U=(0,v.A)(S,[["render",a]]);var Y=U;(0,o.Ef)(Y).mount("#app")}},t={};function n(o){var l=t[o];if(void 0!==l)return l.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,l,a){if(!o){var r=1/0;for(i=0;i<e.length;i++){o=e[i][0],l=e[i][1],a=e[i][2];for(var c=!0,s=0;s<o.length;s++)(!1&a||r>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[s])}))?o.splice(s--,1):(c=!1,a<r&&(r=a));if(c){e.splice(i--,1);var u=l();void 0!==u&&(t=u)}}return t}a=a||0;for(var i=e.length;i>0&&e[i-1][2]>a;i--)e[i]=e[i-1];e[i]=[o,l,a]}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var l,a,r=o[0],c=o[1],s=o[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(l in c)n.o(c,l)&&(n.m[l]=c[l]);if(s)var i=s(n)}for(t&&t(o);u<r.length;u++)a=r[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(i)},o=self["webpackChunkcsv_processor"]=self["webpackChunkcsv_processor"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(65)}));o=n.O(o)})();
//# sourceMappingURL=app.212e0138.js.map